{
  "code": "dungeon",
  "title": "Dungeon Mission",
  "description": "Your task is to clear out a dangerous dungeon.",
  "player": {
    "name": "",
    "items": [
      {
        "code": "0",
        "name": "torch",
        "description": "a normal torch",
        "state": "not lit"
      }
    ]
  },
  "available_actions": [],
  "positions": [
    {
      "code": "-1",
      "description": "Your adventure is ended.",
      "available_actions": []
    },
    {
      "code": "-2",
      "description": "In the darkness you fell off a staircase and broke your neck. You are dead. Your adventure ends here.",
      "available_actions": []
    },
    {
      "code": "0",
      "description": "You are standing in front of a tiny but dangerous dungeon. What will you do?",
      "available_actions": [
        {
          "code": "0",
          "description": "Go in",
          "operation": "cp",
          "position_code": "1",
          "item_code": "",
          "function": null,
          "active": true
        },
        {
          "code": "1",
          "description": "Quit",
          "operation": "cp",
          "position_code": "-1",
          "item_code": "",
          "function": null,
          "active": true
        }
      ]
    },
    {
      "code": "1",
      "description": "It appears to be dark inside. After a further few steps you cannot see a thing. What will you do?",
      "available_actions": [
        {
          "code": "10",
          "description": "Light a torch",
          "operation": "cis",
          "position_code": "",
          "item_code": "0",
          "function": null,
          "value": "lit",
          "active": true
        },
        {
          "code": "11",
          "description": "Turn back to the entrance",
          "operation": "cp",
          "position_code": "0",
          "item_code": "",
          "function": null,
          "active": true
        },
        {
          "code": "12",
          "description": "Go in further",
          "operation": "cp",
          "position_code": "2",
          "item_code": "",
          "function": null,
          "active": true
        }
      ],
      "entering_actions": [
        {
          "code": "101",
          "description": "",
          "operation": "con",
          "position_code": "",
          "item_code": "",
          "function": {
            "condition": [{ "item_code": "0", "state": "lit" }],
            "change": [
              {
                "position_code": "1",
                "description": "It is fairly light, because you lit a torch. In one direction is the entrance of the dungeon and in the other is a long stone staircase that leads downward."
              },
              {
                "action_code": "10",
                "active": false
              }
            ]
          },
          "value": "",
          "active": true
        }
      ]
    },
    {
      "code": "2",
      "description": "At the base of the staircase the dungeon passage widens and becomes a chamber that is also a junction. Seeing from the staircase there is a way to the right and there is one to the left.",
      "available_actions": [
        {
          "code": "20",
          "description": "Turn back to the staircase",
          "operation": "cp",
          "position_code": "1",
          "item_code": "",
          "function": null,
          "active": true
        },
        {
          "code": "21",
          "description": "Go left",
          "operation": "cp",
          "position_code": "3",
          "item_code": "",
          "function": null,
          "active": true
        },
        {
          "code": "22",
          "description": "Go right",
          "operation": "cp",
          "position_code": "4",
          "item_code": "",
          "function": null,
          "active": true
        }
      ],
      "entering_actions": [
        {
          "code": "201",
          "description": "",
          "operation": "con",
          "position_code": "",
          "item_code": "",
          "function": {
            "condition": [{ "item_code": "0", "state": "not lit" }],
            "change": [
              {
                "position_code": "-2"
              }
            ]
          },
          "value": "",
          "active": true
        }
      ]
    }
  ]
}
